webpackJsonp([308],{x5Tu:function(e,n,t){"use strict";function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function a(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function o(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0}),t.d(n,"UnauthBannerSignupModal",function(){return C});var r=t("d6ZO"),s=t.n(r),l=t("FqaO"),d=t("/2tF"),c=t("gVmS"),p=t("W/Cr"),u=t("IaRT"),h=t.n(u),b=t("85jk"),g=t("bUn+"),y=t("5fX2"),f=t("qMeI"),S=t("ok+N"),_=t("XELL"),B=t("gEaE"),m={container:{background:"rgba(0,0,0,0.65)",transition:"height 0.5s cubic-bezier(0.26, 0.87, 0.74, 0.93)",WebkitTransition:"height 0.5s cubic-bezier(0.26, 0.87, 0.74, 0.93)",WebkitBackfaceVisibility:"hidden"},hybridContainer:{background:"rgba(0,0,0,0.65)",transition:"width 0.42s ease-in-out",width:"100%",right:"0px"},visible:{WebkitTransition:"opacity 0.5s linear",transition:"opacity 0.5s linear",display:"block",opacity:1},closeButton:{backgroundColor:"Transparent",backgroundRepeat:"no-repeat",border:"none",outline:"none",overflow:"hidden",padding:"10px",position:"fixed",right:"24px",top:"24px"},tieredVisible:{WebkitTransition:"opacity 0.5s linear",transition:"opacity 0.5s linear",visibility:"visible",opacity:1,height:"100%",display:"flex"},tieredVisibleWithScroll:{WebkitTransition:"opacity 0.5s linear",transition:"opacity 0.5s linear",visibility:"visible",opacity:1,height:"100%",display:"flex",overflow:"scroll"},hidden:{WebkitTransition:"opacity 0.5s linear",transition:"opacity 0.5s linear",pointerEvents:"none",display:"none",opacity:0},tieredHidden:{WebkitTransition:"opacity 0.5s linear",transition:"opacity 0.5s linear",pointerEvents:"none",visibility:"hidden",opacity:0,height:"0"},noBanner:{bottom:"0px",color:"#fff",height:"0px",position:"fixed",width:"100%"},hybridNoBanner:{bottom:"0px",color:"#fff",height:"100%",position:"fixed",width:"0px"},quarterScreenBanner:{background:"rgba(85, 85, 85, 1)",bottom:"0px",color:"#fff",height:"64px",position:"fixed",width:"100%"},fullScreenBanner:{bottom:"0px",color:"#fff",height:"100%",position:"fixed",left:"0px",width:"100%"},hybridSideBarOnly:{height:"100%",width:"376px",bottom:"0px",position:"fixed",background:"rgba(0,0,0,0)"},title:{color:"#fff",display:"inline-block",fontSize:"24px",fontWeight:"500",verticalAlign:"middle",fontStyle:"normal",fontStretch:"normal",lineHeight:"normal",textAlign:"left"},signupButton:{display:"inline-block",height:"44px",lineHeight:"36px",padding:"0px 14px",fontSize:"16px",minWidth:"128px",marginTop:"0px",marginRight:"5px",whiteSpace:"nowrap"},LoginButton:{backgroundColor:"transparent",border:"solid 1px #ffffff",display:"inline-block",height:"44px",lineHeight:"36px",padding:"0px 14px",fontSize:"16px",minWidth:"128px",marginTop:"0px"},fullPageSignup:{left:"50%",top:"50%",position:"absolute",transform:"translate(-50%, -50%)"},tieredFullPageSignup:{left:"50%",top:"50%",visibility:"visible",opacity:1,transition:"opacity 0.5s linear",margin:"auto"},tieredFullPageSignupHidden:{pointerEvents:"none",visibility:"hidden",opacity:0},hybridFullPageSignup:{height:"100%",width:"100%",right:"0px",position:"absolute"}},x=27,C=function(e){function n(t){i(this,n);var o=a(this,e.call(this,t));return o.getBannerState=function(){return"enabled_all"===o.activateHybridSideBarExp()?"dismissable":"enabled_banner"===o.activateHybridSideBarExp()?"nondismissable":o.activateHybridSideBarExp().startsWith("enabled_side_bar")?"dismissed":null},o.getModalType=function(){return o.props.signupSource===_.a.login?_.b.login:_.b.signupOrPersonalizedLogin},o.handleCancelClick=function(){o.dismissBanner(),o.dismissBrandUpsellFlyout(),Object(b.a)("unauth_hybrid_side_bar_closed.cancelButtonClick")},o.handleCloseButtonClick=function(){var e=o.getModalType();Object(b.a)("unauth.authentication_modal.x_button_click.NOT_NOW_BUTTON."+e),o.props.canClose&&o.activateDismissActionExp().startsWith("enabled")&&o.props.handleDismissSignupModal()},o.handleCloseClick=function(){o.props.canClose&&o.props.handleDismissSignupModal()},o.handleContentClick=function(e){e.stopPropagation()},o.handleContentKeyDown=function(e){if(e.keyCode===x){var n=o.getModalType();Object(b.a)("unauth.authentication_modal.esc_key_click.NOT_NOW_BUTTON."+n)}},o.handleEmptySpaceClick=function(){Object(b.a)("unauth.unauth_banner_signup_modal.default.empty_space_click"),o.props.canClose&&(o.activateDismissActionExp().includes("wash")||o.activateDismissActionExp().startsWith("enabled_all")||o.activateDismissActionExp().startsWith("enabled_new_all"))&&o.props.handleDismissSignupModal()},o._handleLoginClick=function(){o.track("login"),o.props.onLoginClick()},o._handleSignupClick=function(){o.track("signup"),o.props.onSignupClick()},o.track=function(e){Object(b.a)("unauth_hybrid_banner."+e)},o.dismissBanner=function(){o.setState({bannerState:"dismissed"})},o.dismissBrandUpsellFlyout=function(){o.setState({showBrandUpsellFlyout:!1,showCancelButton:!1})},o.activateHybridSideBarExp=function(){return o.props.seoUnauthExperiments.v2ActivateExperiment("unauth_hybrid_side_bar_closed")||""},o.activateDismissActionExp=function(){var e="seo_unauth_dismiss_modal_actions_2",n=o.props.seoExperiments.active[e];return n||(o.props.seoUnauthExperiments.v2ActivateExperiment("unauth_dismiss_modal_actions_2")||"")},o.inBrandUpsellExpGroup=function(){return"enabled_all"===o.activateHybridSideBarExp()||"enabled_side_bar_and_bubble"===o.activateHybridSideBarExp()},o.state={showBrandUpsellFlyout:o.props.showBrandUpsellFlyout||o.inBrandUpsellExpGroup(),showCancelButton:"enabled_all"===o.activateHybridSideBarExp(),bannerState:o.getBannerState()},o.handleSignupClick=o._handleSignupClick.bind(o),o.handleLoginClick=o._handleLoginClick.bind(o),o}return o(n,e),n.prototype.UNSAFE_componentWillReceiveProps=function e(n){if("enabled_all"===this.activateHybridSideBarExp()&&!0===n.showNonDismissibleBanner&&!1===this.props.showNonDismissibleBanner&&this.inBrandUpsellExpGroup()&&this.setState({bannerState:"nondismissable",showBrandUpsellFlyout:!0,showCancelButton:!1}),this.props.bannerSize!==f.a.FULL_SCREEN_BANNER&&n.bannerSize===f.a.FULL_SCREEN_BANNER&&!l.get("hasBeenShownLoginModalInOpen")){var t=this.getModalType(),i=this.props.hybridTier;Object(b.a)("unauth_web_container."+c.a.INSPIRED_BANNER+"."+i+t+".shown")}this.props.bannerSize===f.a.FULL_SCREEN_BANNER&&n.bannerSize===f.a.QUARTER_SCREEN_BANNER&&(g.a.logLoginSignupModalView(),l.get("hasBeenShownLoginModalInOpen")||l.set("hasBeenShownLoginModalInOpen","true",12))},n.prototype.getContainerStyles=function e(n){switch(n){case"quarterScreenBanner":return Object.assign({},m.container,m.quarterScreenBanner);case"fullScreenBanner":return"nondismissable"===this.state.bannerState||"dismissable"===this.state.bannerState?Object.assign({},m.hybridContainer,m.fullScreenBanner):"dismissed"===this.state.bannerState?Object.assign({},m.hybridContainer,m.hybridSideBarOnly):Object.assign({},m.container,m.fullScreenBanner);default:return this.state.bannerState?Object.assign({},m.container,m.hybridNoBanner):Object.assign({},m.container,m.noBanner)}},n.prototype.stringsToTranslate=function e(){p.a._("Log in","Text on the button on the bottom banner that leads unauthorized users to login.")},n.prototype.shouldRenderCloseButton=function e(){return this.props.canClose&&(this.activateDismissActionExp().includes("x")||this.activateDismissActionExp().startsWith("enabled_all"))},n.prototype.renderCloseButton=function e(){return s.a.createElement("button",{"aria-label":p.a._("close","accessible label for close button"),onClick:this.handleCloseButtonClick,style:m.closeButton},s.a.createElement(B.m,{accessibilityLabel:p.a._("close","accessible label for close button"),color:"white",icon:"cancel",inline:!0}))},n.prototype.renderLoginSignupButtons=function e(){return s.a.createElement(B.b,{display:"flex",justifyContent:"between",padding:2},s.a.createElement(d.a,{className:"white",onClick:this.handleSignupClick,styleOverrides:m.signupButton},p.a._("Sign up","sign up button on the bottom banner")),s.a.createElement(d.a,{className:"darkGrey",onClick:this.handleLoginClick,styleOverrides:m.LoginButton},p.a._("Log in","word in the log in button")))},n.prototype.render=function e(){var n=this.props,t=n.bannerSize,i=n.fullPageSignup,a=n.inTierMarket,o=i,r=this.activateHybridSideBarExp(),l=this.getContainerStyles(t),d="quarterScreenBanner"===t?m.visible:m.hidden,u="fullScreenBanner"===t?m.visible:m.hidden;a&&(d="quarterScreenBanner"===t?m.tieredVisible:m.tieredHidden,u="fullScreenBanner"===t?m.tieredVisibleWithScroll:m.tieredHidden);var h=this.getModalType(),b=m.fullPageSignup;a&&(b="fullScreenBanner"!==t?m.tieredFullPageSignupHidden:m.tieredFullPageSignup),"enabled_side_bar_and_bubble"===r||"enabled_side_bar"===r?b=m.hybridFullPageSignup:r.startsWith("enabled")&&(b=Object.assign({},m.hybridFullPageSignup,{width:"376px"}));var g=r.startsWith("enabled");return s.a.createElement("div",{"data-test-id":"giftWrap",style:l},s.a.createElement("div",{"data-test-id":"quarterBanner",className:"gridCentered",style:d},s.a.createElement(B.b,{display:"flex",height:64,width:"100%",alignItems:"center",justifyContent:"between"},s.a.createElement("div",{style:m.title},p.a._("Explore more ideas with a Pinterest account","value prop on the bottom banner")),this.renderLoginSignupButtons())),s.a.createElement("div",{"data-test-id":"fullBanner",style:u,onClick:this.handleEmptySpaceClick,role:"dialog"},s.a.createElement("div",{style:b,onClick:this.handleContentClick,onKeyDown:this.handleContentKeyDown,role:"dialog"},s.a.createElement(o,{toggleType:this.props.toggleType,container:c.a.INSPIRED_BANNER,darkSignupTitle:!0,handleBrandUpsellClick:this.props.handleBrandUpsellClick,handleCancelClick:this.handleCancelClick,handleCloseClick:this.handleCloseClick,showBrandUpsellFlyout:this.props.showBrandUpsellFlyout,showCancelButton:this.state.showCancelButton,hybridSideBar:g,signupSource:this.props.signupSource,type:h,disablePersonalizedLoginActivation:!0}),this.shouldRenderCloseButton()?this.renderCloseButton():null)))},n}(r.Component);n.default=Object(y.a)(Object(S.b)(C))}});